<!DOCTYPE html>
<html xmlns:th="http://www.thmeleaf.org">
<head>
<meta charset="UTF-8">
<title>DonateItem</title>

 <!-- Modal css -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<meta content="" name="keywords">
    <meta content="" name="description">

    <!-- 구글 웹 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- CSS 라이브러리 -->
    <link href="/lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">


    <!-- 부트스트랩 -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">

    <!-- 템플릿 CSS파일 -->
    <link href="/css/style.css" rel="stylesheet">
    
    <!-- 페이지네이션 가로 처리 -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
    label{
    	font-weight: bold !important;
    	font-size: large !important;
    }
    
    [type="radio"], span {
	  vertical-align: middle;
	}
	
	[type="radio"] {
	  appearance: none;
	  border: max(2px, 0.1em) solid gray;
	  border-radius: 50%;
	  width: 1.25em;
	  height: 1.25em;
	  transition: border 0.5s ease-in-out;
	}
	
	[type="radio"]:checked {
	  border: 0.4em solid tomato;
	}
	
	[type="radio"]:focus-visible {
	  outline-offset: max(2px, 0.1em);
	  outline: max(2px, 0.1em) dotted tomato;
	}
	
	[type="radio"]:hover {
	  box-shadow: 0 0 0 max(4px, 0.2em) lightgray;
	  cursor: pointer;
	}
	
	[type="radio"]:hover + span {
	  cursor: pointer;
	}
	
	[type="radio"]:disabled {
	  background-color: lightgray;
	  box-shadow: none;
	  opacity: 0.7;
	  cursor: not-allowed;
	}
	
	[type="radio"]:disabled + span {
	  opacity: 0.7;
	  cursor: not-allowed;
	}
	
	/* Global CSS */
	fieldset {
	  display: flex;
	  justify-content: center;
	  border: none;
	  margin: 0;
	  padding: 40px 20px;
	}
    
    </style>
 
</head>
<body>
	<!-- 헤더 시작 -->
	 <div th:replace="header_community :: header"></div>
    <!-- 해더 끝 -->

	<div class="container my-4 " th:fragment="content" style = "padding-top : 160px; padding-bottom : 50px;">
		<div class="row g-4 mb-2">
            <!-- 제목 영역: 섹션의 제목을 표시 -->
		<h1>기부가능 물품 신청 내역</h1>
		<hr>
		</div>
		<div>
		
		<div class="row g-3">
		  <div class="col-md-8">
		    <div class="row">
			 	<label for="donateItem_title" class="col-md-2 col-form-label my-3">제목</label>
			    <div class="col-md-10 my-3">
		     		<input type="text" id="donateItem_title" class="form-control-plaintext" name="donateItem_title" th:value="${vo2.donateItem_title}" readonly >
		    	</div>
		  	</div>
		  </div>
		  <div class="col-md-4">
		    <div class="row">
			 	<label for="member_id" class="col-md-3 col-form-label my-3">작성자</label>
			    <div class="col-md-9 my-3">
		     		<input type="text" id="member_id" class="form-control-plaintext" name="member_id" th:value="${vo2.member_id}" readonly>
		    	</div>
		  	</div>
		  </div>
		</div>
		
		<div class="row g-3">
		  <div class="col-md-8">
		    <div class="row">
			 	<label for="donateItem_item" class="col-md-2 col-form-label my-3">기부 물품명</label>
			    <div class="col-md-10 my-3">
			    <input type="text" id="donateItem_item" class="form-control-plaintext" name="donateItem_item" th:value="${vo2.donateItem_item}" readonly >
		    	</div>
		  	</div>
		  </div>
		  <div class="col-md-4">
		    <div class="row">
			 	<label for="member_id" class="col-md-3 col-form-label my-3">작성일자</label>
			    <div class="col-md-9 my-3">
			    <input type="text" id="donateItem_wdate" class="form-control-plaintext" name="donateItem_wdate" th:value="${vo2.donateItem_wdate}" readonly>
		    	</div>
		  	</div>
		  </div>
		</div>
		
    	
    	<div class="form-item w-100">
    		<label class="form-label my-3"> 물품 정보</label>
    		<textarea type="text" id="donateItem_content" class="form-control" spellcheck="false" name="donateItem_content" th:value="${vo2.donateItem_content}" readonly ></textarea>
    	</div>
    	
    	<th:block th:if="${vo2.donateItem_img!=null}">
    	<div class="form-item w-100 my-3">
    		
    		<img th:src="|/uploadimgPath/${vo2.donateItem_img}|" width="300">  
    			
    	</div>
    	</th:block>  
    	
    	<div class="row">
		 	<label for="donate_state" class="col-sm-1 col-form-label my-3" >처리상태</label>
		    <div class="col-sm-3 my-3">
		     	<input type="text" id="donate_state" class="form-control-plaintext" name="donate_state" th:value="${vo2.donate_state}" >
		    </div>
		    <th:block th:if="${vo2.donate_state=='승인'}">
		    <span> 자세한 사항은 회원정보에 기입하신 연락처를 통해 별도 안내드리겠습니다.</span>
		    </th:block>
		  </div>
        </div>
        
		<!-- 처리상태 변경 -->
		<th:block th:if="${session.admin_id}"> 
		<form action="/donateItem/d_updateOK">
			
			<label class="mx-3">
			<input type="radio"  value="승인" name="donate_state" id="donate_state1">
			<span>승인</span>
			</label>
			
			<label class="mx-3">
			<input type="radio"  value="거절" name="donate_state" id="donate_state2">
			<span>거절</span>
			</label>

			<label class="mx-3">
			<input type="radio"  value="처리중" name="donate_state" id="donate_state3">
			<span>처리중</span>
			</label>
			
			<input type="hidden"  name="donateItem_num" id="donateItem_num" th:value="${vo2.donateItem_num}">
			<input type="submit" class="btn btn-primary my-3 mx-3" value="확인"> 

		</form>
		</th:block>		

		
	
	<!-- 게시글 삭제 -->
	<!-- Button trigger modal -->
	<th:block th:if="${session.admin_id != null || vo2.member_id==session.user_id}">
	<button type="button" class="btn btn-primary border-2 border-secondary py-2 px-3 rounded-pill text-white ms-2" style="float: right;" data-toggle="modal" data-target="#staticBackdrop">
 	 글 삭제
	</button>
	</th:block>
	
	<!-- Modal -->
	<div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="staticBackdropLabel">기부가능 물품 신청 내역 삭제</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        신청 내역을 삭제하시겠습니까?
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">아니오</button>
	        <button type="button" class="btn btn-primary" onclick="clickDel(deleteForm)">예</button>
	      </div>
	    </div>
	  </div>
	</div>
	
	<form name="deleteForm">
		<input type="hidden" id="donateItem_num" name="donateItem_num" th:value="${vo2.donateItem_num}">
	</form>
	
	<script>
		function clickDel(formName){
			formName.action = "/donateItem/d_deleteOK";
			formName.method="post";
			formName.submit();
		}
	
	</script>

	
	</div>
	
	
	<!-- Modal js -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<!-- Footer Start -->
		<div th:replace="footer :: footer"></div>
	<!-- Footer End -->
</body>
</html>